# 🧪 FEATURE2 통합 테스트 설계서

## 1. 테스트 목적

반복 일정이 캘린더 뷰(월간/주간)와 일정 목록에서 아이콘을 통해 시각적으로 구분되며, 모든 뷰에서 일관된 아이콘이 표시되는지 검증한다.

---

## 2. 테스트 범위

### 포함

- 월간 뷰에서 반복 일정 아이콘 표시
- 주간 뷰에서 반복 일정 아이콘 표시
- 일정 목록에서 반복 일정 아이콘 표시
- 일반 일정은 아이콘 미표시 검증
- 모든 반복 유형(daily, weekly, monthly, yearly)에 동일 아이콘 표시
- 아이콘 위치 일관성 검증

### 제외

- 아이콘 디자인/색상/크기의 세밀한 스타일 검증
- 반복 일정 생성 로직 (Feature 1에서 담당)
- 반복 일정 수정/삭제 기능

---

## 3. 테스트 분류

| 구분        | 설명                                   |
| ----------- | -------------------------------------- |
| 통합 테스트 | 캘린더 뷰와 일정 목록 컴포넌트 UI 검증 |

---

## 4. 테스트 시나리오

### Story 1: 캘린더 뷰에서 반복 일정 아이콘 표시

| 시나리오 ID | 설명                                           | 입력                                      | 기대 결과                       | 검증 방법                              | 테스트 유형 |
| ----------- | ---------------------------------------------- | ----------------------------------------- | ------------------------------- | -------------------------------------- | ----------- |
| TC-2-1-1    | 월간 뷰에서 반복 일정이 아이콘과 함께 표시된다 | 반복 일정 데이터 (repeat.type !== 'none') | 일정 제목 앞에 반복 아이콘 표시 | 월간 뷰에서 반복 아이콘 요소 존재 확인 | 통합        |
| TC-2-1-2    | 주간 뷰에서 반복 일정이 아이콘과 함께 표시된다 | 반복 일정 데이터 (repeat.type !== 'none') | 일정 제목 앞에 반복 아이콘 표시 | 주간 뷰에서 반복 아이콘 요소 존재 확인 | 통합        |
| TC-2-1-3    | 일반 일정은 아이콘 없이 제목만 표시된다        | 일반 일정 데이터 (repeat.type === 'none') | 제목만 표시, 아이콘 없음        | 일반 일정에 반복 아이콘 요소 부재 확인 | 통합        |

### Story 2: 일정 목록에서 반복 일정 아이콘 표시

| 시나리오 ID | 설명                                             | 입력                                      | 기대 결과                       | 검증 방법                                | 테스트 유형 |
| ----------- | ------------------------------------------------ | ----------------------------------------- | ------------------------------- | ---------------------------------------- | ----------- |
| TC-2-2-1    | 일정 목록에서 반복 일정이 아이콘과 함께 표시된다 | 반복 일정 데이터 (repeat.type !== 'none') | 일정 제목 앞에 반복 아이콘 표시 | 일정 목록에서 반복 아이콘 요소 존재 확인 | 통합        |
| TC-2-2-2    | 일정 목록에서 일반 일정은 아이콘 없이 표시된다   | 일반 일정 데이터 (repeat.type === 'none') | 제목만 표시, 아이콘 없음        | 일정 목록에서 반복 아이콘 요소 부재 확인 | 통합        |

### Story 3: 반복 일정 아이콘 일관성 유지

| 시나리오 ID | 설명                                           | 입력                                                   | 기대 결과                           | 검증 방법                                         | 테스트 유형 |
| ----------- | ---------------------------------------------- | ------------------------------------------------------ | ----------------------------------- | ------------------------------------------------- | ----------- |
| TC-2-3-1    | 모든 반복 유형이 동일한 아이콘으로 표시된다    | 다양한 반복 유형 일정 (daily, weekly, monthly, yearly) | 모든 반복 일정에 동일한 아이콘 표시 | 모든 반복 아이콘의 타입/클래스가 동일한지 확인    | 통합        |
| TC-2-3-2    | 아이콘 위치가 일정 제목 앞에 일관되게 표시된다 | 반복 일정 데이터                                       | 아이콘이 항상 제목 왼쪽에 위치      | 아이콘과 제목의 DOM 순서 및 위치 구조 일관성 확인 | 통합        |

---

## 5. Mock 데이터 구조

```typescript
const mockRepeatingEvent = {
  id: '1',
  title: '매주 회의',
  date: '2024-01-15',
  startTime: '10:00',
  endTime: '11:00',
  description: '',
  location: '',
  category: '업무',
  repeat: { type: 'weekly', interval: 1 },
  notificationTime: 10,
};

const mockNormalEvent = {
  id: '2',
  title: '일반 회의',
  date: '2024-01-16',
  startTime: '14:00',
  endTime: '15:00',
  description: '',
  location: '',
  category: '업무',
  repeat: { type: 'none', interval: 1 },
  notificationTime: 10,
};
```

---

## 6. 검증 포인트

### UI 검증

- 반복 일정에 아이콘 요소 존재 여부 (`aria-label="반복 일정"` 또는 `data-testid="repeat-icon"`)
- 일반 일정에 아이콘 요소 부재 확인 (`queryBy`로 null 검증)
- 아이콘과 제목의 렌더링 순서 (아이콘이 제목 앞에 위치)

### 접근성

- 아이콘에 적절한 aria-label 속성 존재
- 스크린 리더 사용자를 위한 의미 전달

### 일관성

- 모든 뷰에서 동일한 아이콘 컴포넌트 사용
- 모든 반복 유형에 동일한 아이콘 표시

---

## 7. 비고

- 반복 일정 생성 기능은 Feature 1에서 이미 검증되었으므로, 이 테스트에서는 시각적 표시에만 집중한다.
- 아이콘 존재 여부와 위치만 검증하며, 세부 스타일(색상, 크기)은 시각적 회귀 테스트 영역이므로 제외한다.
- 테스트는 사용자가 실제로 확인할 수 있는 DOM 구조와 접근성 속성을 기반으로 작성한다.
