# Feature 5 Breakdown: 반복 일정 삭제

## Epic: 반복 일정 삭제 관리

사용자가 반복 일정을 삭제할 때 단일 일정만 삭제할지, 전체 시리즈를 삭제할지 선택할 수 있도록 합니다.

---

## Story 1: 반복 일정 삭제 모드 선택

반복 일정 삭제 시 다이얼로그를 통해 단일/전체 삭제 모드를 선택할 수 있습니다.

### Flows

| Flow ID | Name | Input | Trigger | Output | Type | Notes |
|---------|------|-------|---------|--------|------|-------|
| 1-1 | 반복 일정 삭제 클릭 시 확인 다이얼로그가 표시된다 | 반복 일정 (repeat.type !== 'none') | 삭제 버튼 클릭 | "해당 일정만 삭제하시겠어요?" 다이얼로그 표시 | Normal | UI Feedback |
| 1-2 | 일반 일정 삭제 시 다이얼로그 없이 즉시 삭제된다 | 일반 일정 (repeat.type === 'none') | 삭제 버튼 클릭 | 다이얼로그 없이 즉시 삭제 | Normal | Edge Case |

---

## Story 2: 단일 일정 삭제

반복 일정 중 선택한 하나의 일정만 삭제합니다.

### Flows

| Flow ID | Name | Input | Trigger | Output | Type | Notes |
|---------|------|-------|---------|--------|------|-------|
| 2-1 | 다이얼로그에서 '예' 선택 시 해당 일정만 삭제된다 | 반복 일정 + 삭제 다이얼로그 | '예' 버튼 클릭 | 선택한 일정만 삭제, 나머지 반복 일정은 유지 | Normal | 단일 삭제 |
| 2-2 | 단일 삭제 후 삭제 성공 메시지가 표시된다 | 단일 삭제 완료 | 삭제 API 성공 | "일정이 삭제되었습니다" 스낵바 표시 | Normal | UI Feedback |
| 2-3 | 단일 삭제 후 캘린더에서 해당 일정만 사라진다 | 단일 삭제 완료 | 캘린더 리렌더링 | 삭제된 일정만 캘린더에서 제거됨 | Normal | Visual Verification |

---

## Story 3: 전체 반복 일정 삭제

반복 일정의 모든 시리즈를 삭제합니다.

### Flows

| Flow ID | Name | Input | Trigger | Output | Type | Notes |
|---------|------|-------|---------|--------|------|-------|
| 3-1 | 다이얼로그에서 '아니오' 선택 시 전체 반복 일정이 삭제된다 | 반복 일정 + 삭제 다이얼로그 | '아니오' 버튼 클릭 | 동일한 반복 그룹의 모든 일정 삭제 | Normal | 전체 삭제 |
| 3-2 | 전체 삭제 후 삭제 성공 메시지가 표시된다 | 전체 삭제 완료 | 삭제 API 성공 | "일정이 삭제되었습니다" 스낵바 표시 | Normal | UI Feedback |
| 3-3 | 전체 삭제 후 캘린더에서 모든 반복 일정이 사라진다 | 전체 삭제 완료 | 캘린더 리렌더링 | 동일 그룹의 모든 일정이 캘린더에서 제거됨 | Normal | Visual Verification |

---

## 요약

- **Epic**: 1개 (반복 일정 삭제 관리)
- **Stories**: 3개 (삭제 모드 선택, 단일 삭제, 전체 삭제)
- **Flows**: 8개 (UI 2개, 단일 삭제 3개, 전체 삭제 3개)

---

## 기술적 고려사항

1. **반복 그룹 식별**: 제목, 시작 시간, 반복 타입/간격이 동일한 이벤트를 그룹으로 간주 (feature4에서 구현된 `findRepeatGroup` 활용 가능)
2. **다이얼로그 조건**: `repeat.type !== 'none'`인 경우에만 다이얼로그 표시
3. **삭제 API**:
   - 단일 삭제: `DELETE /api/events/{id}`
   - 전체 삭제: 그룹 내 모든 이벤트 ID에 대해 반복 호출 또는 `DELETE /api/events-list` (구현 방식은 백엔드에 따라 결정)
4. **UI 업데이트**: 삭제 후 `fetchEvents()`를 호출하여 캘린더 갱신

