# FEATURE1 기능 분해 계획

## Epic: 반복 유형 선택

### Story 1: 반복 설정 활성화

사용자가 반복 설정을 활성화하여 반복 옵션을 선택할 수 있다.

| Flow ID | Name                                                            | Input             | Trigger                 | Output             | Type   | Notes |
| ------- | --------------------------------------------------------------- | ----------------- | ----------------------- | ------------------ | ------ | ----- |
| 1-1     | 사용자가 반복 설정 체크박스를 클릭하면 반복 드롭다운이 표시된다 | 일정 생성/수정 폼 | 반복 설정 체크박스 클릭 | 반복 드롭다운 표시 | Normal |       |
| 1-2     | 사용자가 반복 설정 체크박스를 해제하면 반복 드롭다운이 숨겨진다 | 일정 생성/수정 폼 | 반복 설정 체크박스 해제 | 반복 드롭다운 숨김 | Normal |       |

### Story 2: 반복 유형 선택

사용자가 드롭다운에서 반복 유형을 선택할 수 있다.

| Flow ID | Name                                                    | Input         | Trigger   | Output              | Type   | Notes |
| ------- | ------------------------------------------------------- | ------------- | --------- | ------------------- | ------ | ----- |
| 2-1     | 사용자가 매일 반복을 선택하면 매일 반복 설정이 적용된다 | 반복 드롭다운 | 매일 선택 | 매일 반복 설정 적용 | Normal |       |
| 2-2     | 사용자가 매주 반복을 선택하면 매주 반복 설정이 적용된다 | 반복 드롭다운 | 매주 선택 | 매주 반복 설정 적용 | Normal |       |
| 2-3     | 사용자가 매월 반복을 선택하면 매월 반복 설정이 적용된다 | 반복 드롭다운 | 매월 선택 | 매월 반복 설정 적용 | Normal |       |
| 2-4     | 사용자가 매년 반복을 선택하면 매년 반복 설정이 적용된다 | 반복 드롭다운 | 매년 선택 | 매년 반복 설정 적용 | Normal |       |

### Story 3: 반복 일정 생성

사용자가 저장 버튼을 클릭하여 반복 일정을 생성할 수 있다.

| Flow ID | Name                                                             | Input                               | Trigger             | Output                   | Type      | Notes |
| ------- | ---------------------------------------------------------------- | ----------------------------------- | ------------------- | ------------------------ | --------- | ----- |
| 3-1     | 사용자가 저장 버튼을 클릭하면 반복 일정이 생성된다               | 반복 설정된 일정 폼                 | 저장 버튼 클릭      | 반복 일정 생성           | Normal    |       |
| 3-2     | 매월 반복 설정 시 해당 날짜가 없는 월에는 일정이 생성되지 않는다 | 매월 반복 설정, 저장 요청           | 반복 일정 생성 로직 | 해당 월에 일정 생성 안됨 | Exception |       |
| 3-3     | 윤년 29일 매년 반복 설정 시 평년에는 일정이 생성되지 않는다      | 윤년 29일 매년 반복 설정, 저장 요청 | 반복 일정 생성 로직 | 평년에 일정 생성 안됨    | Exception |       |

## 체크리스트 검증 결과

| 항목                                       | 검증 결과 | 비고                                            |
| ------------------------------------------ | --------- | ----------------------------------------------- |
| 1. 사용자 행동이 포함되어 있는가?          | ✅        | 모든 Flow가 "사용자가 ~를 클릭하면" 형태로 시작 |
| 2. 기대 결과가 명확한가?                   | ✅        | 모든 Flow가 "~된다", "~표시된다" 형태로 끝남    |
| 3. 단일 목적 Flow인가?                     | ✅        | 각 Flow는 하나의 행동과 하나의 결과만 포함      |
| 4. 예외 조건이 분리되어 있는가?            | ✅        | 31일, 윤년 조건이 별도 Flow로 분리됨            |
| 5. 정상/예외 Flow 구분 명확한가?           | ✅        | Type 필드에 Normal/Exception 명시               |
| 6. Flow 이름이 행동+결과 형태인가?         | ✅        | "~시 ~된다" 형식 준수                           |
| 7. Flow 중복 없는가?                       | ✅        | 동일한 Input/Trigger/Output 조합 없음           |
| 8. PRD의 Acceptance Criteria와 매핑되는가? | ✅        | 모든 요구사항이 Flow로 표현됨                   |
| 9. UI 피드백 Flow 존재하는가?              | ✅        | 드롭다운 표시/숨김 관련 Flow 포함               |
| 10. 내부 로직 언급 없이 사용자 관점인가?   | ✅        | 사용자가 확인 가능한 변화만 포함                |
| 11. Flow 순서가 논리적으로 자연스러운가?   | ✅        | 활성화 → 선택 → 생성 순서                       |
| 12. I/O 정의가 완전한가?                   | ✅        | 모든 Flow에 Input, Trigger, Output 정의         |
