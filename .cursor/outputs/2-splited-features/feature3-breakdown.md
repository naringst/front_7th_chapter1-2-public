# FEATURE3 기능 분해 계획

## Epic: 반복 종료 조건 설정

### Story 1: 반복 종료 조건 드롭다운 표시

사용자가 반복 종료 조건을 선택할 수 있도록 드롭다운을 제공한다.

| Flow ID | Name                                                                      | Input             | Trigger                 | Output                       | Type   | Notes |
| ------- | ------------------------------------------------------------------------- | ----------------- | ----------------------- | ---------------------------- | ------ | ----- |
| 1-1     | 사용자가 반복 설정 체크박스를 클릭하면 반복 종료 조건 드롭다운이 표시된다 | 일정 생성/수정 폼 | 반복 설정 체크박스 클릭 | 반복 종료 조건 드롭다운 표시 | Normal |       |
| 1-2     | 사용자가 반복 설정 체크박스를 해제하면 반복 종료 조건 드롭다운이 숨겨진다 | 일정 생성/수정 폼 | 반복 설정 체크박스 해제 | 반복 종료 조건 드롭다운 숨김 | Normal |       |

### Story 2: 반복 종료 조건 선택

사용자가 반복 종료 조건을 선택할 수 있다.

| Flow ID | Name                                                            | Input                   | Trigger              | Output              | Type   | Notes |
| ------- | --------------------------------------------------------------- | ----------------------- | -------------------- | ------------------- | ------ | ----- |
| 2-1     | 사용자가 '없음' 옵션을 선택하면 무한 반복 설정이 적용된다       | 반복 종료 조건 드롭다운 | '없음' 선택          | 무한 반복 설정 적용 | Normal |       |
| 2-2     | 사용자가 '특정 날짜까지' 옵션을 선택하면 날짜 선택기가 표시된다 | 반복 종료 조건 드롭다운 | '특정 날짜까지' 선택 | 날짜 선택기 표시    | Normal |       |

### Story 3: 종료 날짜 선택

사용자가 반복 종료 날짜를 선택할 수 있다.

| Flow ID | Name                                                                 | Input       | Trigger                        | Output                         | Type      | Notes |
| ------- | -------------------------------------------------------------------- | ----------- | ------------------------------ | ------------------------------ | --------- | ----- |
| 3-1     | 사용자가 달력에서 날짜를 선택하면 해당 날짜까지 반복 설정이 적용된다 | 날짜 선택기 | 날짜 선택                      | 해당 날짜까지 반복 설정 적용   | Normal    |       |
| 3-2     | 사용자가 2025-12-31을 선택하면 최대 제한일까지 반복 설정이 적용된다  | 날짜 선택기 | 2025-12-31 선택                | 최대 제한일까지 반복 설정 적용 | Normal    |       |
| 3-3     | 사용자가 2025-12-31 이후 날짜를 선택하려고 하면 선택이 제한된다      | 날짜 선택기 | 2025-12-31 이후 날짜 선택 시도 | 날짜 선택 제한                 | Exception |       |

## 체크리스트 검증 결과

| 항목                                       | 검증 결과 | 비고                                            |
| ------------------------------------------ | --------- | ----------------------------------------------- |
| 1. 사용자 행동이 포함되어 있는가?          | ✅        | 모든 Flow가 "사용자가 ~를 클릭하면" 형태로 시작 |
| 2. 기대 결과가 명확한가?                   | ✅        | 모든 Flow가 "~된다", "~표시된다" 형태로 끝남    |
| 3. 단일 목적 Flow인가?                     | ✅        | 각 Flow는 하나의 행동과 하나의 결과만 포함      |
| 4. 예외 조건이 분리되어 있는가?            | ✅        | 날짜 제한 조건이 별도 Flow로 분리됨             |
| 5. 정상/예외 Flow 구분 명확한가?           | ✅        | Type 필드에 Normal/Exception 명시               |
| 6. Flow 이름이 행동+결과 형태인가?         | ✅        | "~시 ~된다" 형식 준수                           |
| 7. Flow 중복 없는가?                       | ✅        | 동일한 Input/Trigger/Output 조합 없음           |
| 8. PRD의 Acceptance Criteria와 매핑되는가? | ✅        | 모든 요구사항이 Flow로 표현됨                   |
| 9. UI 피드백 Flow 존재하는가?              | ✅        | 드롭다운 표시/숨김 관련 Flow 포함               |
| 10. 내부 로직 언급 없이 사용자 관점인가?   | ✅        | 사용자가 확인 가능한 변화만 포함                |
| 11. Flow 순서가 논리적으로 자연스러운가?   | ✅        | 표시 → 선택 → 날짜 선택 순서                    |
| 12. I/O 정의가 완전한가?                   | ✅        | 모든 Flow에 Input, Trigger, Output 정의         |
