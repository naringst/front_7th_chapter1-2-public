# 🧪 테스트 설계서 - FEATURE3: 반복 종료 조건 설정

## 1. 테스트 목적

반복 일정의 종료 조건을 올바르게 설정할 수 있는지 검증한다. 사용자가 반복 설정 시 종료 조건 드롭다운에서 '없음'(무한 반복) 또는 '특정 날짜까지'를 선택할 수 있으며, '특정 날짜까지' 선택 시 날짜 선택기를 통해 종료 날짜를 지정할 수 있다. 2025-12-31이 최대 제한일로 설정되어 있음을 검증한다.

## 2. 테스트 범위

### 포함

- 반복 종료 조건 드롭다운 표시/숨김 동작
- '없음' 옵션 선택 시 무한 반복 설정
- '특정 날짜까지' 옵션 선택 시 날짜 선택기 표시
- 날짜 선택기를 통한 종료 날짜 선택
- 2025-12-31 최대 제한일 검증
- 2025-12-31 이후 날짜 선택 제한

### 제외

- 반복 일정 생성 로직 (FEATURE1에서 다룸)
- 실제 반복 일정의 종료 적용 로직 (FEATURE1과 함께 동작)

## 3. 테스트 분류

| 구분        | 설명                                           |
| ----------- | ---------------------------------------------- |
| 통합 테스트 | 종료 조건 UI 컴포넌트와 날짜 선택 로직 간 검증 |

## 4. 테스트 시나리오

### Story 1: 반복 종료 조건 드롭다운 표시

| 시나리오 ID | 설명                                            | 입력                   | 기대 결과                    | 검증 포인트                                 | 테스트 유형 |
| ----------- | ----------------------------------------------- | ---------------------- | ---------------------------- | ------------------------------------------- | ----------- |
| TC-3-1      | 반복 설정 체크 시 종료 조건 드롭다운이 표시된다 | 반복 설정 체크박스 ON  | 반복 종료 조건 드롭다운 표시 | 종료 조건 드롭다운이 DOM에 존재하고 visible | 통합        |
| TC-3-2      | 반복 설정 해제 시 종료 조건 드롭다운이 숨겨진다 | 반복 설정 체크박스 OFF | 반복 종료 조건 드롭다운 숨김 | 종료 조건 드롭다운이 hidden 또는 제거됨     | 통합        |

### Story 2: 반복 종료 조건 선택

| 시나리오 ID | 설명                                                 | 입력                         | 기대 결과                 | 검증 포인트                               | 테스트 유형 |
| ----------- | ---------------------------------------------------- | ---------------------------- | ------------------------- | ----------------------------------------- | ----------- |
| TC-3-3      | '없음' 선택 시 무한 반복 설정이 적용된다             | 종료 조건 '없음' 선택        | 무한 반복 설정            | endDate가 null 또는 undefined             | 통합        |
| TC-3-4      | '특정 날짜까지' 선택 시 날짜 선택기가 표시된다       | 종료 조건 '특정 날짜까지' 선 | 날짜 선택기가 화면에 표시 | 날짜 선택기 요소가 DOM에 존재하고 visible | 통합        |
| TC-3-5      | 종료 조건 드롭다운에 '없음'과 '특정 날짜까지'가 있다 | 종료 조건 드롭다운 열기      | 2개 옵션 표시             | 드롭다운에 2개 옵션이 존재                | 통합        |
| TC-3-6      | 기본값이 '없음'으로 설정되어 있다                    | 드롭다운 최초 렌더링         | '없음'이 선택된 상태      | 선택된 값이 '없음'                        | 통합        |

### Story 3: 종료 날짜 선택

| 시나리오 ID | 설명                                             | 입력                       | 기대 결과                       | 검증 포인트                           | 테스트 유형 |
| ----------- | ------------------------------------------------ | -------------------------- | ------------------------------- | ------------------------------------- | ----------- |
| TC-3-7      | 날짜 선택 시 해당 날짜까지 반복 설정이 적용된다  | 날짜 선택기에서 2025-06-30 | 종료 날짜가 2025-06-30으로 설정 | endDate = "2025-06-30"                | 통합        |
| TC-3-8      | 2025-12-31 선택 시 최대 제한일까지 설정된다      | 날짜 선택기에서 2025-12-31 | 종료 날짜가 2025-12-31로 설정   | endDate = "2025-12-31"                | 통합        |
| TC-3-9      | 2025-12-31 이후 날짜는 선택할 수 없다 (예외)     | 날짜 선택기에서 2026-01-01 | 날짜 선택이 제한됨              | 2025-12-31 이후 날짜가 비활성화됨     | 통합        |
| TC-3-10     | 과거 날짜는 선택할 수 없다 (확인 필요)           | 날짜 선택기에서 과거 날짜  | 확인 필요                       | 확인 필요: 과거 날짜 선택 제한 여부   | 통합        |
| TC-3-11     | 시작 날짜 이전 날짜는 선택할 수 없다 (확인 필요) | 시작일보다 이전 날짜       | 확인 필요                       | 확인 필요: 시작일 이전 선택 제한 여부 | 통합        |

## 5. 테스트 데이터

### 유효한 종료 날짜

- 2024-12-31
- 2025-06-30
- 2025-12-31 (최대값)

### 무효한 종료 날짜

- 2026-01-01 (최대값 초과)
- 2027-12-31 (최대값 초과)

## 6. 비고

### 확인 필요 사항

1. **TC-3-10**: 과거 날짜 선택 가능 여부 확인 필요
2. **TC-3-11**: 시작 날짜보다 이전 날짜 선택 제한 여부 확인 필요
3. **종료 날짜와 반복 생성**: 종료 날짜를 설정했을 때 실제 반복 일정이 해당 날짜까지만 생성되는지는 FEATURE1과의 통합 테스트에서 검증 필요
4. **날짜 형식**: 날짜 선택기에서 반환되는 날짜 형식 (YYYY-MM-DD, Date 객체 등) 확인 필요
5. **시간대 처리**: 날짜만 선택하는지, 시간까지 포함하는지 확인 필요

### 테스트 우선순위

- P0: TC-3-3, TC-3-4, TC-3-7, TC-3-9 (핵심 기능 및 제약사항)
- P1: TC-3-1, TC-3-2, TC-3-8 (UI 상호작용)
- P2: TC-3-5, TC-3-6 (기본값 및 옵션 표시)
- P3: TC-3-10, TC-3-11 (추가 제약사항 - 확인 필요)
